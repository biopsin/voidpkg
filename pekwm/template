# Template file for 'pekwm'
pkgname=pekwm
version=0.1.18
revision=1
build_style=cmake
makedepends="libXrender-devel libXft-devel"
short_desc="Window manager based on aewm++"
maintainer="biopsin <biopsin@teknik.io>"
license="GPL-2-or-later"
homepage="https://www.pekwm.org/projects/pekwm"
distfiles="https://github.com/pekdon/pekwm/releases/download/release-${version}/${pkgname}-${version}.tar.gz"
checksum=7becc43b79eab0ff754572852e385435222420385107c881a93ac4dc4ae96065

conf_files="
	/etc/pekwm/autoproperties
	/etc/pekwm/autoproperties_typerules
	/etc/pekwm/config
	/etc/pekwm/config_system
	/etc/pekwm/keys
	/etc/pekwm/menu
	/etc/pekwm/config
	/etc/pekwm/mouse
	/etc/pekwm/mouse_click
	/etc/pekwm/mouse_sloppy
	/etc/pekwm/mouse_system
	/etc/pekwm/start
	/etc/pekwm/vars"

post_extract() {
	vsed 's|${CMAKE_INSTALL_PREFIX}/etc|/etc|' -i CMakeLists.txt
	vsed 's| etc| /etc|' -i data/CMakeLists.txt
}

post_install() {
	rm -rf ${DESTDIR}/usr/share/pekwm/themes/{default,pion}
	rm -rf ${DESTDIR}/usr/share/pekwm/scripts/pekwm_screenshot.sh
}
